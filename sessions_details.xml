<?xml version="1.0" encoding="UTF-8" ?>
<displays>
<display id="065c99f1-0139-1000-809e-ac1084dae481" type="" style="Table" enable="true">
	<name><![CDATA[SESSIONS_DETAILS]]></name>
	<description><![CDATA[Sessions]]></description>
	<tooltip><![CDATA[Sessions]]></tooltip>
	<drillclass><![CDATA[]]></drillclass>
	<CustomValues>
		<TYPE><![CDATA[horizontal]]></TYPE>
	</CustomValues>
	<query>
		<sql><![CDATA[WITH d AS (
    SELECT
        a.sid,
        a.serial# serial,
        a.status,
        coalesce(a.username,b.pname,'N/A') username,
        nvl(b.pname,'N/A') process,
        b.spid ospid,
        nvl(module,'N/A') module,
        nvl(a.machine,'N/A') machine,
        a.service_name,
        a.server,
        DECODE(a.blocking_session_status,'UNKNOWN',-1,a.blocking_session) blocking_sid,
        DECODE(a.blocking_session_status,'UNKNOWN',-1,a.blocking_instance) blocking_instance,
        c.blocked,
        a.type,
        round(b.pga_used_mem / 1024 / 1024,3) pga_used_mb,
        round(b.pga_alloc_mem / 1024 / 1024,3) pga_alloc_mb,
        round(b.pga_max_mem / 1024 / 1024,3) pga_max_mb,
        TO_CHAR(a.logon_time,'YYYY-MM-DD HH24:MI:SS') logon_time,
        a.state,
        round(
            DECODE(
                a.state,
                'WAITED KNOWN TIME',a.time_since_last_wait_micro,
                'WAITED SHORT TIME',a.time_since_last_wait_micro,
                a.wait_time_micro
            ) / 1000000
            ,3
        ) seconds,
        DECODE(a.state,'WAITED KNOWN TIME','ON CPU','WAITED SHORT TIME','ON CPU',a.event) "EVENT"
    FROM
        v$session a
        LEFT JOIN v$process b ON ( a.paddr = b.addr )
        LEFT JOIN (
            SELECT
                blocking_session,
                COUNT(sid) blocked
            FROM
                v$session
            WHERE
                blocking_session IS NOT NULL
            GROUP BY
                blocking_session
        ) c ON ( a.sid = c.blocking_session )
    ORDER BY
        blocked DESC NULLS LAST
) SELECT
    DECODE(level,1,TO_CHAR(sid),lpad(sid,2 * level + length(TO_CHAR(sid) ),' ') ) sid,
    serial,
    status,
    username,
    process,
    ospid,
    module,
    machine,
    logon_time,
    event,
    state,
    seconds,
    pga_used_mb,
    pga_alloc_mb,
    pga_max_mb,
    type,
    service_name,
    server
  FROM
    d
START WITH d.blocked IS NOT NULL
           AND (
    d.blocking_sid IS NULL
    OR d.blocking_sid =-1
) CONNECT BY
    PRIOR d.sid = d.blocking_sid
UNION ALL
SELECT
    TO_CHAR(sid),
    serial,
    status,
    username,
    process,
    ospid,
    module,
    machine,
    logon_time,
    event,
    state,
    seconds,
    pga_used_mb,
    pga_alloc_mb,
    pga_max_mb,
    type,
    service_name,
    server
FROM
    (
        SELECT
            sid,
            serial,
            status,
            username,
            process,
            ospid,
            module,
            machine,
            logon_time,
            event,
            state,
            seconds,
            pga_used_mb,
            pga_alloc_mb,
            pga_max_mb,
            type,
            service_name,
            server
        FROM
            d
        WHERE
            blocking_sid =-1
        UNION ALL
        SELECT
            sid,
            serial,
            status,
            username,
            process,
            ospid,
            module,
            machine,
            logon_time,
            event,
            state,
            seconds,
            pga_used_mb,
            pga_alloc_mb,
            pga_max_mb,
            type,
            service_name,
            server
        FROM
            d
        WHERE
            blocking_sid IS NULL
            AND blocked IS NULL
        ORDER BY
            type DESC,
            status ASC,
            sid ASC
    )]]></sql>
	</query>
		<pdf version="VERSION_1_7" compression="CONTENT">
			<docproperty title="" author="" subject="" keywords="" />
			<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
			<column>
				<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
				<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
				<blob blob="NONE" zip="false" />
			</column>
			<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
			<header enable="false" generatedate="false">
				<data>
				
				
				
				
				
				
				
				
				
				
	                          null																																									</data>
			</header>
			<footer enable="false" generatedate="false">
				<data value="null" />
			</footer>
			<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
		</pdf>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Waits]]></name>
		<description><![CDATA[Session Waits]]></description>
		<tooltip><![CDATA[Session Waits]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    seq#,
    DECODE(state,'WAITED SHORT TIME','ON CPU','WAITED KNOWN TIME','ON CPU',event) "EVENT",
    DECODE(state,'WAITED SHORT TIME',0,'WAITED KNOWN TIME',0,p1) "P1",
    DECODE(state,'WAITED SHORT TIME','--','WAITED KNOWN TIME','--',p1text) "P1TEXT",
    DECODE(state,'WAITED SHORT TIME',0,'WAITED KNOWN TIME',0,p2) "P2",
    DECODE(state,'WAITED SHORT TIME','--','WAITED KNOWN TIME','--',p2text) "P2TEXT",
    DECODE(state,'WAITED SHORT TIME',0,'WAITED KNOWN TIME',0,p3) "P3",
    DECODE(state,'WAITED SHORT TIME','--','WAITED KNOWN TIME','--',p3text) "P3TEXT",
    round(
        DECODE(
            state,
            'WAITED SHORT TIME',time_since_last_wait_micro,
            'WAITED KNOWN TIME',time_since_last_wait_micro,wait_time_micro
        ) / 1000000
        ,3
    ) "WAIT_TIME",
    time_since_last_wait_micro
FROM
    v$session_wait
WHERE
    sid =:SID
UNION ALL
SELECT
    seq#,
    event,
    p1,
    p1text,
    p2,
    p2text,
    p3,
    p3text,
    round(wait_time_micro / 1000000,3),
    time_since_last_wait_micro
FROM
    v$session_wait_history
WHERE
    sid =:SID]]></sql>
			<binds>
				<bind id="SID">
					<prompt><![CDATA[SID]]></prompt>
					<tooltip><![CDATA[SID]]></tooltip>
					<value><![CDATA[NULL_VALUE]]></value>
					<bracket><![CDATA[null]]></bracket>
				</bind>
			</binds>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Event]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    total_waits,
    event,
    round(time_waited_micro / 1000,3) total_time_wait_milli,
    round(time_waited_micro / total_waits / 1000,3) avg_time_wait_milli,
    total_timeouts
FROM
    v$session_event
WHERE
    wait_class# <> 6
    AND time_waited_micro <> 0
    AND round(time_waited_micro / 1000,3) > 0
    AND sid =:SID
ORDER BY
    time_waited_micro DESC,
    total_timeouts DESC]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Stats]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    name,
    value,
    DECODE(bitand(class,1),1,' USER ',NULL)
    || DECODE(bitand(class,2),2,' REDO ',NULL)
    || DECODE(bitand(class,4),4,' ENQUEUE ',NULL)
    || DECODE(bitand(class,8),8,' CACHE ',NULL)
    || DECODE(bitand(class,16),16,' OS ',NULL)
    || DECODE(bitand(class,32),32,' RAC ',NULL)
    || DECODE(bitand(class,64),64,' SQL ',NULL)
    || DECODE(bitand(class,128),128,' DEBUG ',NULL) statclass
FROM
    v$sesstat left
    JOIN v$statname USING ( statistic# )
WHERE
    sid =:SID
    AND value <> 0
ORDER BY 2 DESC]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Application]]></name>
		<description><![CDATA[Application Info    ]]></description>
		<tooltip><![CDATA[Application Info]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[with proc as (
        SELECT
            object_type
            || ' '
            || owner
            || '.'
            || object_name
            || DECODE(procedure_name,NULL,'','.' || procedure_name) procname,
            object_id,
            subprogram_id
        FROM
            dba_procedures
)
SELECT
    a.sid,a.serial#,
    a.last_call_et state_time,
    b.spid ospid,
    nvl(a.process,'N/A') rmpid,
    a.resource_consumer_group,
    a.action,
    DECODE(a.plsql_entry_object_id,NULL,'SQL', p1.procname ) plsql_entry_object,
    DECODE(a.plsql_object_id,NULL,'SQL', p2.procname) plsql_object,
    p3.procname plsql_entry_subprogram_id,
    p4.procname plsql_subprogram_id,
    a.sql_trace,
    a.sql_trace_waits,
    a.sql_trace_binds,
    a.pddl_status parallel_ddl,
    a.pdml_status parallel_dml,
    a.pq_status parallel_query,
    c.cache_lobs,
    c.nocache_lobs,
    c.abstract_lobs,
    b.tracefile
FROM
    v$session a
    LEFT JOIN v$process b ON ( a.paddr = b.addr)
    left join v$temporary_lobs c on (a.sid=c.sid)
    left join proc p1 on (a.plsql_entry_object_id=p1.object_id and a.plsql_entry_object_id is not null and p1.subprogram_id=0)
    left join proc p2 on (a.plsql_object_id=p2.object_id and a.plsql_object_id is not null and p2.subprogram_id=0)
    left join proc p3 on (a.plsql_entry_subprogram_id=p3.subprogram_id and a.plsql_entry_object_id=p3.object_id and a.plsql_entry_subprogram_id is not null)
    left join proc p4 on (a.plsql_subprogram_id=p4.subprogram_id and a.plsql_entry_object_id=p4.object_id and a.plsql_subprogram_id is not null)
WHERE
    a.sid =:SID]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Temp Usage]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    b.tablespace,
    b.segtype,
    round(SUM(nvl(b.blocks,0) * c.value / 1024 / 1024),2) size_mb
FROM
    v$session a
    LEFT JOIN v$sort_usage b ON ( a.saddr = b.session_addr )
    LEFT JOIN v$parameter c ON ( c.name = 'db_block_size' )
WHERE
    a.sid =:SID
    AND b.segfile# IS NOT NULL
GROUP BY
    b.tablespace,
    b.segtype
ORDER BY
    3 DESC, 1 asc, 2]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Undo Usage]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    b.xidusn,
    SUM(b.used_urec) records,
    SUM(round(b.used_ublk * c.value / 1024 / 1024,3) ) mb
FROM
    v$session a
    LEFT JOIN gv$transaction b ON ( a.saddr = b.ses_addr )
    LEFT JOIN gv$parameter c ON ( c.name = 'db_block_size' )
WHERE
    a.sid =:SID
    AND b.used_urec IS NOT NULL
GROUP BY
    b.xidusn
ORDER BY 3 DESC]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Transaction]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    start_time start_time,
    status,
    name,
    space,
    recursive,
    noundo,
    ptx parallel,
    used_ublk undo_blocks,
    used_urec undo_records,
    log_io,
    phy_io
FROM
    v$transaction
WHERE ses_addr = (SELECT saddr FROM v$session WHERE sid =:SID )]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[LongOps]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    'SQLDEV:GAUGE:0:100:75:95:'
    || round(100 * sofar / totalwork) "STATUS",
    message,
    sql_id,
    sql_plan_line_id,
    sql_plan_operation
    || ' '
    || sql_plan_options sql_op,
    TO_CHAR(sofar,'FM999G999G999G999G999') so_far,
    TO_CHAR(totalwork,'FM999G999G999G999G999') total,
    TO_CHAR(start_time,'YYYY-MM-DD HH24:MI:SS') start_time,
    time_remaining
FROM
    v$session_longops
WHERE
    sid =:SID
    AND serial# =:SERIAL
    AND totalwork != 0
ORDER BY
    sofar / totalwork ASC]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Arial" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Arial" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Arial" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Active SQL Text]]></name>
		<description><![CDATA[The Current or last SQL for the selected session]]></description>
		<tooltip><![CDATA[The Current or last SQL for the selected session]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    s.sql_exec_id-16777216 sql_exec_id,
    TO_CHAR(s.sql_exec_start,'DD-MM-YYYY HH24:MI:SS') sql_exec_start,
    q.sql_id,
    s.sql_hash_value,
    s.sql_child_number,
    replace(q.sql_fulltext,CHR(0) ) sql_text
FROM
    v$session s
    LEFT JOIN v$sql q ON ( s.sql_address = q.address AND s.sql_hash_value = q.hash_value )
WHERE
    s.sid =:SID
    AND ROWNUM = 1]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Previous SQL Text]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    s.prev_exec_id-16777216 sql_exec_id,
    TO_CHAR(s.prev_exec_start,'DD-MM-YYYY HH24:MI:SS') prev_exec_start,
    q.sql_id prev_sql_id,
    s.prev_hash_value,
    s.prev_child_number,
    replace(q.sql_fulltext,CHR(0) ) prev_sql_text
FROM
    v$session s
    LEFT JOIN v$sqlarea q ON ( s.prev_sql_id = q.sql_id )
WHERE
    s.sid =:SID]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[SQL Plan]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    sql_id,
    child_number,
    plan_hash_value,
    lpad('  ',4 * (depth - 1) )
    || operation
    || ' '
    || options
    || ' '
    || object_name
    || ' '
    || other_tag
    || ' '
    || DECODE(id,0,'Cost = ' || position) "Query Plan",
    lpad(
        CASE
            WHEN cardinality > 1000000 THEN TO_CHAR(trunc(cardinality / 1000000) )
                                            || 'M'
            WHEN cardinality > 1000    THEN TO_CHAR(trunc(cardinality / 1000) )
                                         || 'K'
            ELSE cardinality || ' '
        END,6,' ') AS "Rows",
    nvl(cpu_cost,0) "CPU_COST",
    nvl(io_cost,0) "I/O_COST",
    time,
    nvl(round(temp_space / 1024 / 1024,3),0) "TEMP_MB",
    nvl(round(bytes / 1024 / 1024,3),0) "MB"
FROM
    v$sql_plan sp
WHERE
    sp.sql_id = (
        SELECT
            coalesce(sql_id,prev_sql_id)
        FROM
            v$session
        WHERE
            sid =:SID
    )
ORDER BY
    sp.plan_hash_value,
    sp.child_address,
    sp.id]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Arial" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Arial" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Arial" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Cached Cursors]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    sql_id,
    a.sql_text,
    a.cursor_type,
    b.executions,
    b.sorts,
    b.loaded_versions,
    b.loads,
    b.first_load_time,
    b.fetches,
    b.invalidations,
    b.parse_calls,
    b.disk_reads,
    b.direct_writes,
    b.buffer_gets,
    b.physical_read_bytes,
    round(b.user_io_wait_time / 1000000,3) user_io_wait_time,
    round(b.application_wait_time / 1000000,3) application_wait_time,
    b.plsql_exec_time,
    b.java_exec_time,
    b.rows_processed,
    b.optimizer_mode,
    b.optimizer_cost,
    round(b.cpu_time / 1000000,3) cpu_time,
    round(b.elapsed_time / 1000000,3) elapsed_time,
    b.is_bind_sensitive,
    b.is_bind_aware
FROM
    v$open_cursor a
    LEFT JOIN v$sqlarea b USING ( sql_id )
WHERE
    a.sid =:SID]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Code" enable="true">
		<name><![CDATA[SQL Monitor]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    dbms_sqltune.report_sql_monitor(
        session_id =>:SID,
        session_serial =>:SERIAL,
        type => 'TEXT',
        report_level => 'ALL'
    ) AS report
FROM
    dual]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[SQL Bind Variables]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    v$sql_bind_capture.sql_id,
    position,
    datatype_string,
    value_string value,
    TO_CHAR(last_captured,'HH24:MI:SS') time_captured
FROM
    v$sql_bind_capture
WHERE
    last_captured IS NOT NULL
    AND sql_id = (
        SELECT
            coalesce(sql_id,prev_sql_id)
        FROM
            v$session
        WHERE
            sid =:SID
    )
ORDER BY
    v$sql_bind_capture.sql_id,
    last_captured,
    position]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Arial" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Arial" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Arial" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Locks]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    'WAITING FOR' idx,
    owner,
    object_name
    || nvl2(subobject_name,'.' || subobject_name,'') object_name,
    object_type,
    name "FILE NAME/SID/SQLID",
    TO_CHAR(row_wait_row#) "WAIT_ROW/STATUS",
    TO_CHAR(dbms_rowid.rowid_create(1,row_wait_obj#,row_wait_file#,row_wait_block#,row_wait_row#) ) "ROWID/LOCKED_MODE"
FROM
    v$session left
    JOIN all_objects ON ( row_wait_obj# = object_id )
    LEFT JOIN v$datafile ON ( row_wait_file# = file# )
WHERE
    sid =:SID
    AND object_name IS NOT NULL
UNION ALL
SELECT
    'LOCKED OBJECTS' idx,
    owner,
    object_name,
    object_type,
    NULL,
    NULL,
    DECODE(locked_mode,0,'NONE',1,'NULL',2,'ROW-S',3,'ROW-X',4,'SHARE',5,'S/ROW-X',6,'EXCLUSIVE','UKNOWN') locked_mode
FROM
    v$locked_object left
    JOIN dba_objects USING ( object_id )
WHERE
    session_id =:SID
UNION ALL
SELECT
    'LOCKS BY HANDLE' idx,
    user_name,
    kglnaobj,
    NULL,
    TO_CHAR(sid),
    kgllkctp,
    TRIM(DECODE(kgllkmod,0,'NONE',1,'NULL',2,'ROW-S',3,'ROW-X',4,'SHARE',5,'S/ROW-X',6,'EXCLUSIVE','UKNOWN')
           || DECODE(kgllkexc,0,'',1,' EXCLUSIVE','') ) locked_mode
FROM
    x$kgllk left
    JOIN v$session ON ( kgllkuse = saddr )
WHERE
    kgllkhdl = (
        SELECT
            p1raw
        FROM
            v$session
        WHERE
            sid =:SID
    )
UNION ALL
SELECT
    'ALL LOCKS' idx,
    user_name,
    kglnaobj,
    object_type,
    kgllksqlid,
    kgllkctp,
    DECODE(kgllkmod,0,'NONE',1,'NULL',2,'ROW-S',3,'ROW-X',4,'SHARE',5,'S/ROW-X',6,'EXCLUSIVE','UKNOWN')
    || DECODE(kgllkexc,0,' ',1,' EXCLUSIVE',' ') locked_mode
FROM
    x$kgllk left
    JOIN dba_objects ON ( user_name = owner AND kglnaobj = object_name )
WHERE
    kgllkuse = (
        SELECT
            saddr
        FROM
            v$session
        WHERE
            sid =:SID
    )]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="Times New Roman" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[IO]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    block_gets,
    consistent_gets,
    physical_reads,
    block_changes,
    consistent_changes,
    optimized_physical_reads
FROM
    v$sess_io
WHERE
    sid =:SID]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="null" author="null" subject="null" keywords="null" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Memory]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    category,
    round(allocated / 1024 / 1024) allocated_mb,
    round(used / 1024 / 1024) used_mb,
    round(max_allocated / 1024 / 1024) max_allocated_mb
FROM
    v$process_memory
WHERE
    ( pid,serial# ) IN (
        SELECT
            pid,
            serial#
        FROM
            v$process
        WHERE
            addr = (
                SELECT
                    paddr
                FROM
                    v$session
                WHERE
                    sid =:SID
            )
    )
ORDER BY
    2 DESC]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="null" author="null" subject="null" keywords="null" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Connection]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    authentication_type,
    network_service_banner,
    client_charset,
    client_connection,
    client_oci_library,
    client_version,
    client_driver,
    client_lobattr
FROM
    v$session_connect_info
WHERE
    sid =:SID]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="null" author="null" subject="null" keywords="null" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[PX]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    qcsid,
    qcserial#,
    sid,
    serial# p_id,
    server_group,
    server_set,
    server#,
    degree,
    req_degree
FROM
    v$px_session
WHERE
    qcsid =:SID
    OR ( 
        qcsid IN ( 
            SELECT qcsid
            FROM v$px_session
            WHERE sid =:SID
        ) 
    )
ORDER BY
    server_group,
    server_set,
    server#]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Workarea]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[SELECT
    sql_id,
    sql_exec_start,
    operation_type,
    qcsid,
    round(active_time / 100,2) active_time,
    round(work_area_size / 1024 / 1024,3) work_area_size_mb,
    round(expected_size / 1024 / 1024,3) expected_size_mb,
    round(actual_mem_used / 1024 / 1024,3) actual_mem_used_mb,
    round(max_mem_used / 1024 / 1024,3) max_mem_used_mb,
    number_passes,
    nvl(round(tempseg_size / 1024 / 1024,3),0) tempseg_size_mb
FROM
    v$sql_workarea_active
WHERE
    sid =:SID]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                          null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Environment]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[select name,value,isdefault 
from V$SES_OPTIMIZER_ENV 
where sid=:SID 
order by name]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	                    null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="Table" enable="true">
		<name><![CDATA[Trace Events]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query>
			<sql><![CDATA[select event,component,op,seq#,function,operation,section,dump,data from x$trace where sid=:SID order by time desc,seq# desc,event]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="null" author="null" subject="null" keywords="null" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	 null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
	<display id="null" type="" style="plsql-dbms_output" enable="true">
		<name><![CDATA[Row Data]]></name>
		<description><![CDATA[]]></description>
		<tooltip><![CDATA[]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
		</CustomValues>
		<query>
			<sql><![CDATA[DECLARE
    l_cur             SYS_REFCURSOR;
    vrowid            ROWID;
    vobjid            NUMBER;
    vrfn              NUMBER;
    vrn               NUMBER;
    vrtype            NUMBER;
    vbn               NUMBER;
    vobjowner         VARCHAR2(128);
    vobjname          VARCHAR2(128);
    vsql              VARCHAR2(1024);

    PROCEDURE cursoroutput (
        vtablename   IN VARCHAR2,
        p_refcursor IN OUT SYS_REFCURSOR
    ) AS
        l_desc            dbms_sql.desc_tab;
        l_cols            BINARY_INTEGER;
        l_cursor          BINARY_INTEGER;
        v_varchar2        VARCHAR2(4000);
        v_number          NUMBER;
        v_date            DATE;
        l_data            VARCHAR2(32767);
        l_columnvalue     VARCHAR2(32767);
        l_processedrows   NUMBER := 0;
        voutline          VARCHAR2(4096);
    BEGIN
        voutline := vtablename || ': (';
        l_cursor := dbms_sql.to_cursor_number(p_refcursor);
        dbms_sql.describe_columns(l_cursor,l_cols,l_desc);
        FOR i IN 1..l_cols LOOP
            IF
                l_desc(i).col_type = 2
            THEN
                dbms_sql.define_column(l_cursor,i,v_number);
            ELSIF l_desc(i).col_type = 12 THEN
                dbms_sql.define_column(l_cursor,i,v_date);
            ELSIF l_desc(i).col_type = 01 OR l_desc(i).col_type = 96 THEN
                dbms_sql.define_column(
                    l_cursor,
                    i,
                    v_varchar2,
                    4000
                );
            ELSE
                raise_application_error(
                    -20000,
                    'Unhandled data type {'
                     || l_desc(i).col_name
                     || '}'
                );
            END IF;
        END LOOP;

        WHILE dbms_sql.fetch_rows(l_cursor) > 0 LOOP
            FOR i IN 1..l_cols LOOP
                IF
                    l_desc(i).col_type = 12
                THEN
                    dbms_sql.column_value(l_cursor,i,v_date);
                    v_varchar2 := TO_CHAR(v_date);
                ELSIF l_desc(i).col_type = 2 THEN
                    dbms_sql.column_value(l_cursor,i,v_number);
                    v_varchar2 := TO_CHAR(v_number);
                ELSE
                    dbms_sql.column_value(l_cursor,i,v_varchar2);
                    IF
                        v_varchar2 IS NOT NULL
                    THEN
                        v_varchar2 := '''' || v_varchar2 || '''';
                    ELSE
                        v_varchar2 := '';
                    END IF;

                END IF;

                voutline := voutline || v_varchar2;
                IF
                    i < l_cols
                THEN
                    voutline := voutline || ',';
                END IF;
            END LOOP;
            l_processedrows := l_processedrows + 1;
        END LOOP;
        dbms_sql.close_cursor(l_cursor);
        dbms_output.put_line(voutline || ')');
    END;

BEGIN
    select dbms_rowid.rowid_create ( 1, row_wait_obj#, row_wait_file#, row_wait_block#, row_wait_row# ) into vrowid 
    from v$session 
    where sid=:SID and row_wait_row# is not null;
    dbms_rowid.rowid_info(
        vrowid,
        vrtype,
        vobjid,
        vrfn,
        vbn,
        vrn
    );
    SELECT
        owner,
        object_name
    INTO
        vobjowner,vobjname
    FROM
        dba_objects
    WHERE
        data_object_id = vobjid;

    vsql := 'select * from '
     || vobjowner
     || '.'
     || vobjname
     || ' where rowid='''
     || vrowid
     || '''';

    OPEN l_cur FOR vsql;
    dbms_output.put_line('<PRE>');
    cursoroutput(vobjowner || '.' || vobjname,
        p_refcursor   => l_cur
    );
    dbms_output.put_line('</PRE>');
EXCEPTION WHEN NO_DATA_FOUND THEN NULL;
END;]]></sql>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="null" author="null" subject="null" keywords="null" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="null" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					
					
					
					
					
					
					
					
					
					
	null																																																			</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
      <item reload="true" reloadparent="false" removeFromParent="false" toolbar="false">
        <title>Start trace session</title>
        <prompt type="confirm">
          <label>Start tracing session?</label>
        </prompt>
        <sql><![CDATA[begin dbms_monitor.session_trace_enable(#SID#, #SERIAL#, TRUE, TRUE); end;]]></sql>
        <help>Begin tracing the selected session.</help>
      </item>
      <item reload="true" reloadparent="false" removeFromParent="false" toolbar="false">
        <title>Kill Session</title>
        <prompt type="confirm">
          <label>Kill Session?</label>
        </prompt>
        <sql><![CDATA[begin execute immediate 'alter system disconnect session '''||trim('#SID#')||','||trim('#SERIAL#')||''' immediate'; end;]]></sql>
        <help>Kill the selected session.</help>
      </item>
      <item reload="true" reloadparent="false" removeFromParent="false" toolbar="false">
        <title>Stop trace session</title>
        <prompt type="confirm">
          <label>Stop tracing session?</label>
        </prompt>
        <sql><![CDATA[begin dbms_monitor.session_trace_disable(#SID#, #SERIAL#); end;]]></sql>
        <help>Finish tracing the selected session.</help>
      </item>
      <item reload="true" reloadparent="false" removeFromParent="false" toolbar="false">
        <title>Kill Sessions by USERNAME</title>
        <prompt type="confirm">
          <label>Kill Sessions?</label>
        </prompt>
        <sql><![CDATA[BEGIN   FOR a IN   (SELECT sid,     serial#,     inst_id   FROM gv$session   WHERE username=:USERNAME   AND username <>'SYS'   )   LOOP     BEGIN     EXECUTE immediate 'alter system disconnect session '''||a.sid||','||a.serial#||''' immediate'; EXCEPTION WHEN OTHERS THEN  NULL; END;   END LOOP; END;]]></sql>
        <help>Kill sessions by username.</help>
      </item>
      <item reload="true" reloadparent="false" removeFromParent="false" toolbar="false">
        <title>Kill Sessions by MODULE</title>
        <prompt type="confirm">
          <label>Kill Sessions?</label>
        </prompt>
        <sql><![CDATA[BEGIN   FOR a IN   (SELECT sid,     serial#,     inst_id   FROM gv$session   WHERE module=:MODULE   AND username <>'SYS'   )   LOOP     BEGIN     EXECUTE immediate 'alter system disconnect session '''||a.sid||','||a.serial#||''' immediate'; EXCEPTION WHEN OTHERS THEN NULL; END;   END LOOP; END;]]></sql>
        <help>Kill sessions by module.</help>
      </item>
      <item reload="true" reloadparent="false" removeFromParent="false" toolbar="false">
        <title>Kill Sessions by MACHINE</title>
        <prompt type="confirm">
          <label>Kill Sessions?</label>
        </prompt>
        <sql><![CDATA[BEGIN   FOR a IN   (SELECT sid,     serial#,     inst_id   FROM gv$session   WHERE machine=:MACHINE   AND username <>'SYS'   )   LOOP     BEGIN     EXECUTE immediate 'alter system disconnect session '''||a.sid||','||a.serial#||''' immediate'; EXCEPTION WHEN OTHERS THEN  NULL; END;   END LOOP; END;]]></sql>
        <help>Kill sessions by MACHINE.</help>
      </item>
      <item reload="true" reloadparent="false" removeFromParent="false" toolbar="false">
        <title>Kill Sessions by EVENT</title>
        <prompt type="confirm">
          <label>Kill Sessions?</label>
        </prompt>
        <sql><![CDATA[BEGIN   FOR a IN   (SELECT sid,     serial#,     inst_id   FROM gv$session   WHERE event=:EVENT   AND username <>'SYS'   )   LOOP     BEGIN     EXECUTE immediate 'alter system disconnect session '''||a.sid||','||a.serial#||''' immediate'; EXCEPTION WHEN OTHERS THEN  NULL; END;   END LOOP; END;]]></sql>
        <help>Kill sessions by EVENT.</help>
      </item>         
</display>
</displays>
